window.__require=function t(o,e,i){function n(c,a){if(!e[c]){if(!o[c]){var h=c.split("/");if(h=h[h.length-1],!o[h]){var d="function"==typeof __require&&__require;if(!a&&d)return d(h,!0);if(s)return s(h,!0);throw new Error("Cannot find module '"+c+"'")}c=h}var r=e[c]={exports:{}};o[c][0].call(r.exports,function(t){return n(o[c][1][t]||t)},r,r.exports,t,o,e,i)}return e[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<i.length;c++)n(i[c]);return n}({boomType:[function(t,o){"use strict";cc._RF.push(o,"6eebdHU69FD/Ljp0ZdXhDwQ","boomType"),cc.Class({extends:cc.Component,properties:{},start:function(){var t=this;this.node.on("startaction",function(o){var e=o.detail,i=e.x,n=e.y;t.startAction(i,n)});var o=this.getComponent(cc.Animation).play();o.wrapMode=cc.WrapMode.Loop,o.repeatCount=1/0},onCollisionEnter:function(t){0===t.tag&&this.node.destroy()},startAction:function(t,o){var e=this,i=cc.moveTo(10,t,o),n=cc.callFunc(function(){e.node.destroy()},this,0),s=cc.sequence(i,n);this.node.runAction(s)}}),cc._RF.pop()},{}],boom:[function(t,o){"use strict";cc._RF.push(o,"7cd118cdAVLmIzx7dJe2NTP","boom");var e=null,i=null,n=null,s=[0,11,12,1,20];cc.Class({extends:cc.Component,properties:{},start:function(){var t=this;if(!e){var o=cc.find("Canvas");e=o.height/2,i=-o.width/2,n=o.width/2}this.speed=cc.v2(0,0),this.node.on("setSpeed",function(o){var e=o.detail,i=e.x,n=e.y;t.speed=cc.v2(i,n)})},update:function(t){var o=this.node.getPosition();this.node.setPosition(o.add(this.speed.clone().multiplyScalar(t))),(o.y>e||o.x<i||o.x>n)&&this.node.destroy()},onCollisionEnter:function(t){if(!s.includes(t.tag)){var o=new cc.Event.EventCustom("addScore",!0),e=cc.find("Canvas");o.detail={score:1},e.dispatchEvent(o),this.node.destroy()}}}),cc._RF.pop()},{}],enemyBoom:[function(t,o){"use strict";cc._RF.push(o,"2e275UrKmNEVLdzD34N2Ud0","enemyBoom");var e=null,i=null,n=null;cc.Class({extends:cc.Component,properties:{},start:function(){var t=this;if(!e){var o=cc.find("Canvas");e=-o.height/2,i=-o.width/2,n=o.width/2}this.speed=cc.v2(0,-300),this.node.on("setSpeed",function(o){var e=o.detail,i=e.x,n=e.y;t.speed=cc.v2(i,n)})},update:function(t){var o=this.node.getPosition();this.node.setPosition(o.add(this.speed.clone().multiplyScalar(t))),(o.y<e||o.x<i||o.x>n)&&this.node.destroy()},onCollisionEnter:function(t){0===t.tag&&this.node.destroy()}}),cc._RF.pop()},{}],enemyBoos1:[function(t,o){"use strict";cc._RF.push(o,"5f295KdPntEKJ0wzdUVHZli","enemyBoos1"),cc.Class({extends:cc.Component,properties:{blood:{default:1,type:cc.Integer},boom:{default:null,type:cc.Prefab}},onLoad:function(){},start:function(){var t=this;this.canvas||(this.canvas=cc.find("Canvas")),this.typeCount=12,this.preShoot=0,this.time=0,this.shootSpeed=1,this.actions=[],this.shootTypes=this.createBoom(),this.node.setPosition(cc.v2(0,this.canvas.height/2+this.node.height)),this.startAction(0,this.canvas.height/2-1.5*this.node.height),this.node.on("initConfig",function(o){t.typeCount=parseInt(o.detail.typeCount)})},createBoom:function(){for(var t=[cc.v2(0,-300)],o=0;o<this.typeCount/2;)console.log(o,this.typeCount),t.push(cc.v2(0,-300).rotate(Math.PI*o/this.typeCount)),t.push(cc.v2(0,-300).rotate(-Math.PI*o/this.typeCount)),o++;return t},update:function(t){this.time=this.time+t,this.time-this.preShoot>this.shootSpeed&&(this.preShoot=this.time,this.shoot())},shoot:function(){var t=this;this.shootTypes.forEach(function(o){t.shootBoom(o)})},shootBoom:function(t){var o=cc.instantiate(this.boom),e=this.node.getPosition();o.setPosition(e.add(cc.v2(0,0))),this.canvas||(this.canvas=cc.find("Canvas")),o.parent=this.canvas,setTimeout(function(){var e=new cc.Event.EventCustom("setSpeed",!0);e.detail={x:t.x,y:t.y},o.dispatchEvent(e)},16)},attach:function(){if(this.blood<=1){var t=new cc.Event.EventCustom("boosDied",!0);cc.find("Canvas").dispatchEvent(t),this.node.destroy()}else this.blood--},onCollisionEnter:function(t){0!==t.tag&&1!==t.tag||this.attach()},startAction:function(t,o){var e=cc.moveTo(2,t,o),i=cc.callFunc(function(){},this,0),n=cc.sequence(e,i);this.node.runAction(n)}}),cc._RF.pop()},{}],enemyBoos2:[function(t,o){"use strict";cc._RF.push(o,"a5e74PqBeBGGLSUehqHzIe/","enemyBoos2"),cc.Class({extends:cc.Component,properties:{blood:{default:1,type:cc.Integer},boom:{default:null,type:cc.Prefab}},onLoad:function(){},start:function(){var t=this;this.canvas||(this.canvas=cc.find("Canvas")),this.typeCount=12,this.preShoot=0,this.time=0,this.shootSpeed=1,this.actions=[],this.shootTypes=this.createBoom(),this.node.setPosition(cc.v2(0,this.canvas.height/2+this.node.height)),this.startAction(0,this.canvas.height/2-1.5*this.node.height),this.node.on("initConfig",function(o){t.typeCount=parseInt(o.detail.typeCount)})},createBoom:function(){for(var t=[cc.v2(0,-300)],o=0;o<this.typeCount/2;)t.push(cc.v2(0,-300).rotate(Math.PI*o/this.typeCount)),t.push(cc.v2(0,-300).rotate(-Math.PI*o/this.typeCount)),o++;return t},update:function(t){this.time=this.time+t,this.time-this.preShoot>this.shootSpeed&&(this.preShoot=this.time,this.shoot())},shoot:function(){var t=this;this.shootTypes.forEach(function(o){t.shootBoom(o)})},shootBoom:function(t){var o=cc.instantiate(this.boom),e=this.node.getPosition();o.setPosition(e.add(cc.v2(0,0))),this.canvas||(this.canvas=cc.find("Canvas")),o.parent=this.canvas,setTimeout(function(){var e=new cc.Event.EventCustom("setSpeed",!0);e.detail={x:t.x,y:t.y},o.dispatchEvent(e)},16)},attach:function(){if(this.blood<=1){var t=new cc.Event.EventCustom("boosDied",!0);cc.find("Canvas").dispatchEvent(t),this.node.destroy()}else this.blood--},onCollisionEnter:function(t){0!==t.tag&&1!==t.tag||this.attach()},startAction:function(t,o){var e=this,i=cc.moveTo(2,t,o),n=cc.callFunc(function(){e.startShaking()},this,0),s=cc.sequence(i,n);this.node.runAction(s)},startShaking:function(){var t=this.getComponent(cc.Animation).play("enemyBoos2");t.wrapMode=cc.WrapMode.Loop,t.repeatCount=1/0}}),cc._RF.pop()},{}],enemyController:[function(t,o){"use strict";cc._RF.push(o,"4f3c1qPGwZFMpJOk41Dkm7p","enemyController"),cc.Class({extends:cc.Component,properties:{childPlane:{default:[],type:cc.Prefab}},start:function(){}}),cc._RF.pop()},{}],enemy:[function(t,o){"use strict";cc._RF.push(o,"c22f3nX2p5KP5Eoq/DDiSc/","enemy"),cc.Class({extends:cc.Component,properties:{blood:{default:1,type:cc.Integer},shoot:{default:!1,type:cc.Boolean},boom:{default:null,type:cc.Prefab}},onLoad:function(){},start:function(){var t=this;this.preShoot=0,this.time=0,this.shootSpeed=1.8,this.level=1,this.node.on("startaction",function(o){var e=o.detail,i=e.x,n=e.y,s=e.level,c=parseInt(s);t.startAction(i,n,isNaN(c)?1:c),isNaN(c)||(t.level=c,t.shootSpeed=t.shootSpeed*Math.pow(.95,c-1),t.blood=Math.ceil(t.blood*Math.pow(1.05,c-1)))}),this.audio=this.getComponent(cc.AudioSource),this.booming=!1},update:function(t){var o=this;if(this.shoot&&!this.booming&&(this.time=this.time+t,this.time-this.preShoot>this.shootSpeed||0===this.preShoot)){this.preShoot=this.time;var e=cc.instantiate(this.boom),i=this.node.getPosition();e.setPosition(i.add(cc.v2(0,-this.node.height/2))),e.parent=cc.find("Canvas"),setTimeout(function(){var t=new cc.Event.EventCustom("setSpeed",!0);t.detail={x:0,y:-300*Math.pow(1.05,o.level-1)},e.dispatchEvent(t)},16)}},attach:function(){var t=this;if(this.blood<=1){this.booming=!0;var o=this.getComponent(cc.Animation);console.log(o),o.play("explode"),this.audio&&this.audio.play(),this.getComponent(cc.BoxCollider).enabled=!1,this.node.stopAllActions(),setTimeout(function(){t.node&&t.node.destroy()},1050)}else this.blood--},onCollisionEnter:function(t){this.booming||0!==t.tag&&1!==t.tag||this.attach()},startAction:function(t,o,e){var i=this,n=cc.moveTo(12*Math.pow(.95,e-1),t,o),s=cc.callFunc(function(){i.node.destroy()},this,0),c=cc.sequence(n,s);this.node.runAction(c)}}),cc._RF.pop()},{}],game:[function(t,o){"use strict";cc._RF.push(o,"4d9369ie/pAyJrpeuoxDMJt","game"),cc.Class({extends:cc.Component,properties:{Enemys:{default:[],type:[cc.Prefab]},PopUp:{default:null,type:cc.Prefab},Plane:{default:null,type:cc.Node},Boos:{default:[],type:[cc.Prefab]},BoomTypes:{default:[],type:[cc.Prefab]},BoosTime:{default:5,type:cc.Integer},boomTypesSpeed:{default:10,type:cc.Integer},enemySpeed:{default:2,type:cc.Integer},Bg:{default:null,type:cc.SpriteFrame}},onLoad:function(){cc.director.getCollisionManager().enabled=!0;var t=cc.view.getVisibleSize();this._windowWidth=t.width,this._windowHeight=t.height,this._bottomY=-t.height/2,this._topY=t.height/2,this._rightX=t.width/2,this._leftX=-t.width/2,this.score=0},start:function(){var t=this;this.time=0,this.preEnemy=0,this.preBoomTypes=this.boomTypesSpeed,this.boosShow=!1,this.level=1,this.preBoosDied=0,this.node.on("boosDied",function(){t.boosShow=!1,t.preBoosDied=t.time,t.level=t.level+1}),this.node.on("planeDied",function(){t.planeDied()}),this.node.on("addScore",function(o){var e=parseInt(o.detail.score);isNaN(e)||(t.score=t.score+e,t.node.getChildByName("scoreNum").getChildByName("scoreNumChild").getComponent(cc.Label).string=t.score)});var o=this.node.getChildByName("scoreNum");console.log(this.node.width,this.node.height),o.setPosition(cc.v2(0,this.node.height/2-30))},update:function(t){this.time=this.time+t,this.time-this.preEnemy>this.enemySpeed&&(this.preEnemy=this.time,this.addEnemy()),this.time-this.preBoomTypes>this.boomTypesSpeed&&(this.addBoomType(),this.preBoomTypes=this.time),this.time-this.preBoosDied>this.BoosTime&&!this.boosShow&&(this.addBoos(),this.boosShow=!0)},planeDied:function(){var t=this,o=parseInt(cc.sys.localStorage.getItem("score"));isNaN(o)&&(o=0);var e=Math.max(o,this.score);cc.sys.localStorage.setItem("score",e);var i=cc.instantiate(this.PopUp);i.parent=this.node,console.log(o,e),setTimeout(function(){var o=new cc.Event.EventCustom("setScore",!0);o.detail={score:t.score},i.dispatchEvent(o)},100)},addBoos:function(){var t=this.Boos[(this.level+1)%2];t&&(cc.instantiate(t).parent=this.node)},addEnemy:function(){var t=this,o=this.Enemys[Math.floor(Math.random()*this.Enemys.length)];if(o){var e=cc.instantiate(o),i=(Math.random()-.5)*((this._windowWidth||this.node.width)-e.width);e.setPosition(cc.v2(i,this._topY)),e.parent=this.node,setTimeout(function(){var o=new cc.Event.EventCustom("startaction",!0);o.detail={x:i,y:t._bottomY,level:t.level},e.dispatchEvent(o)},100)}},addBoomType:function(){var t=this,o=this.BoomTypes[Math.floor(Math.random()*this.BoomTypes.length)];if(o){var e=cc.instantiate(o),i=(Math.random()-.5)*((this._windowWidth||this.node.width)-e.width);e.setPosition(cc.v2(i,this._topY)),e.parent=this.node,setTimeout(function(){var o=new cc.Event.EventCustom("startaction",!0);o.detail={x:i,y:t._bottomY},e.dispatchEvent(o)},100)}}}),cc._RF.pop()},{}],plane:[function(t,o){"use strict";cc._RF.push(o,"39215hLhnhE7KkfF1CvoSnu","plane"),cc.Class({extends:cc.Component,properties:{boom:{default:null,type:cc.Prefab}},start:function(){this.preShoot=0,this.time=0,this.shootSpeed=.5,this.boomSpeed=.8,this.maxBoomSpeed=.25,this.boomCount=1,this.maxBoomCount=5,this.canvas=cc.find("Canvas"),this.shootType=2,this.audio=this.getComponent(cc.AudioSource),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){var o=t.getDelta();this.node.setPosition(this.node.getPosition().add(o))},this)},update:function(t){this.time=this.time+t,this.time-this.preShoot>this.shootSpeed&&(this.preShoot=this.time,this.shoot())},shoot:function(){for(var t=1;t<=this.boomCount;)this.shootBoom(cc.v2(0,600),t),t++},shootBoom:function(t,o){var e=this,i=this.boomCount,n=this.node.width,s=n/i,c=cc.v2(s*(o-.5)-n/2,0),a=cc.instantiate(this.boom),h=this.node.getPosition();a.setPosition(h.add(cc.v2(0,this.node.height/2)).add(c)),this.canvas||(this.canvas=cc.find("Canvas")),a.parent=this.canvas,setTimeout(function(){var o=new cc.Event.EventCustom("setSpeed",!0);o.detail={x:t.x,y:t.y},a.dispatchEvent(o),e.audio&&e.audio.play()},16)},addBoomAction:function(){var t=this.boomCount+1;t<this.maxBoomCount?this.boomCount=t:this.boomCount=this.maxBoomCount},speedBoomAction:function(){var t=this.boomSpeed*this.shootSpeed;t>this.maxBoomSpeed?this.shootSpeed=t:this.shootSpeed=this.maxBoomSpeed},stop:function(){var t=new cc.Event.EventCustom("planeDied",!0);cc.find("Canvas").dispatchEvent(t),this.node.destroy()},onCollisionEnter:function(t){switch(t.tag){case 11:this.addBoomAction();break;case 12:this.speedBoomAction();break;case 20:case 2:this.stop()}}}),cc._RF.pop()},{}],popup:[function(t,o){"use strict";cc._RF.push(o,"b07beSTfGRDqa8mgJRKGFMF","popup"),cc.Class({extends:cc.Component,properties:{again:{default:null,type:cc.Node},back:{default:null,type:cc.Node},score:{default:null,type:cc.Node}},onLoad:function(){this.node.zIndex=1},start:function(){var t=this;this.again.on("click",this.tapAgain,this),this.back.on("click",this.tapBack,this),this.node.on("setScore",function(o){var e=parseInt(o.detail.score);isNaN(e)||(t.score.getComponent(cc.Label).string=e)})},tapAgain:function(){cc.director.loadScene("first")},tapBack:function(){console.log(1111),cc.director.loadScene("start")}}),cc._RF.pop()},{}],start:[function(t,o){"use strict";cc._RF.push(o,"da768bF9TNFab1WBtKZCb7Q","start"),cc.Class({extends:cc.Component,properties:{btn:{default:null,type:cc.Node}},start:function(){this.btn.on("click",this.callback,this);var t=parseInt(cc.sys.localStorage.getItem("score"));this.node.getChildByName("score").getComponent(cc.Label).string=isNaN(t)?0:t},callback:function(){cc.director.preloadScene("first",function(){cc.director.loadScene("first")})}}),cc._RF.pop()},{}]},{},["boom","boomType","enemy","enemyBoom","enemyBoos1","enemyBoos2","enemyController","game","plane","popup","start"]);